"use strict";(globalThis.webpackChunk_github_ui_github_ui=globalThis.webpackChunk_github_ui_github_ui||[]).push([["packages_issue-fields-shared_issue-field_ts-packages_use-client-value_use-client-value_ts-pac-b53755"],{98646:(e,t,r)=>{r.d(t,{Ft:()=>i,HZ:()=>o,KO:()=>u,MR:()=>s,YQ:()=>l,d6:()=>a,fk:()=>c,fy:()=>g,mQ:()=>m,qH:()=>d,qg:()=>p});var n=r(38621);let a={text:{type:"text",displayName:"Text",icon:n.TypographyIcon,valueField:"textValue"},single_select:{type:"single_select",displayName:"Single Select",icon:n.SingleSelectIcon,valueField:"singleSelectOptionId"},date:{type:"date",displayName:"Date",icon:n.CalendarIcon,valueField:"dateValue"},number:{type:"number",displayName:"Number",icon:n.NumberIcon,valueField:"numberValue"}},s=Object.values(a);function i(e,t){switch(e){case"text":return{textValue:t};case"single_select":return{singleSelectOptionId:t};case"date":return{dateValue:t};case"number":{let e=Number(t);return isNaN(e)?{}:{numberValue:e}}}}function l(e){return{...e,dataType:o(e.dataType)}}function o(e){switch(e){case"TEXT":case"text":return"text";case"SINGLE_SELECT":case"single_select":return"single_select";case"DATE":case"date":return"date";case"number":case"NUMBER":return"number";default:throw Error(`Unsupported field type: ${e}`)}}let u="IssueFieldSingleSelectValue",d="IssueFieldTextValue",c="IssueFieldDateValue",p="IssueFieldNumberValue";function g(e,t){if(e)switch(t){case u:e.setValue(null,"name"),e.setValue(null,"color"),e.setValue(null,"description");break;case c:case d:case p:e.setValue(null,"value");break;default:return t}}function m(e){return a[e].icon}},18815:(e,t,r)=>{r.d(t,{AE:()=>a,En:()=>n,ek:()=>o,gO:()=>l,jX:()=>s,u4:()=>i});let n=25,a=50,s=64,i=256,l=["issue","pr","pull-request","pull request"],o=10},30721:(e,t,r)=>{r.d(t,{VB:()=>SSRNetwork,SD:()=>x,E7:()=>w});var n=r(50467),a=r(40961),s=r(69487),i=r(37285),l=r(96379),o=r(71315),u=r(38102);let d=["SAML","SERVICE_UNAVAILABLE"],c={FORBIDDEN:["SAML error"],AUTHENTICATION:["Couldn\u2019t authenticate you"]},p={NOT_FOUND:[["repository","issue"]]};var g=r(51987);function m(e,t){let r=p[e];if(!r)return!1;for(let e of r){if(t.length!==e.length)continue;let r=!0;for(let n=0;n<t.length;n++)if(t[n]!==e[n]&&"*"!==e[n]){r=!1;break}if(r)return!1}return!0}let h=class ValidationError extends Error{constructor(e,t,r){super(e,t),(0,n._)(this,"catalogService",void 0),this.catalogService=r,this.name="ValidationError"}};async function y(e,t,r){if(e.status>401&&404!==e.status){let n=await e.text(),a={url:e.url,timestamp:new Date().toISOString(),persistedQueryId:t,persistedQueryName:r,failureRequestId:e.headers.get("X-Github-Request-Id")},s=`HTTP error (${e.status}): ${n||"No additional text"}.
    Error Info: ${JSON.stringify(a)}`;if(429===e.status)throw{message:s,cause:e.status};throw Error(s,{cause:e.status})}}async function f(e,t,r,n="GET",a,s,i,l){return(await k(e,t,r,n,{isSubscription:!1,scope:void 0},a,s,i,l)).response}async function k(e,t,r,n="POST",a={},l,p,g,y){let f=JSON.stringify((0,s.stableCopy)({query:e,variables:r,...a.scopeObject?{scopeObject:a.scopeObject}:{}})),{isSubscription:S,scope:I,subscriptionTopic:F,dispatchTime:N}=a,E=function(e,t,r,n,a,s,i="/_graphql"){let l=[];if("GET"===e&&l.push(`body=${t}`),r&&l.push("subscription=1"),a&&l.push(`scope=${encodeURIComponent(a)}`),n&&l.push(`subscriptionTopic=${encodeURIComponent(n)}`),s&&l.push(`dispatchTime=${encodeURIComponent(s)}`),o.cg){let e=new URL(o.cg.location.href,o.cg.location.origin).searchParams.get("_features");e&&l.push(`_features=${e}`)}return l.length>0?`${i}?${l.join("&")}`:i}(n,encodeURIComponent(f),S,F,I,N,l),_=null;try{let{subscriptionId:r,requestId:a,json:s,status:l}=await b(E,n,e,t,f,p);if(_=r,g&&s.errors){let e=g[l];if(e)for(let r of s.errors){let n=e[r.type];n?.({persistedQueryName:t,errorMessage:r.message})}}let o=function(e,t,r,n){var a,s;if(a=t,s=e,"errors"in s&&(s.errors.filter(e=>{let t=d.includes(e.type)||!!c[e.type]?.includes(e.message),r=m(e.type,e.path);return t||r}).map(e=>{console.error(`Failed to fetch data. Please use this request ID when contacting support: ${a} Error: ${e.type}: ${e.message} (path: ${e.path})`)}),s.errors=s.errors.filter(e=>{let t=d.includes(e.type)||!!c[e.type]?.includes(e.message),r=m(e.type,e.path);return!t&&!r})),"errors"in e&&e.errors.length){let t=e.errors.map(e=>`GraphQL error: ${e.type}: ${e.message} (path: ${e.path})`).join(", "),a=new h(`${t} (Persisted query id: ${r})`,{cause:e.errors},e.extensions?.query_owning_catalog_service);if(n)(0,u.N7)(a),n.error(a);else throw a}if(!("data"in e)){let a=Error(`Expected data property in response: ${JSON.stringify(e)}. persistedQueryId: ${r}, requestId: ${t}`);if(n)(0,u.N7)(a),n.error(a);else throw a}return e}(s,a,e,y);return o&&(0,i.Av)(o),{subscriptionId:_,response:o}}catch(e){if(y)return"object"==typeof e&&null!==e&&"cause"in e&&429===e.cause||(0,u.N7)(e),y.error(e),{subscriptionId:_,response:{errors:[{message:"An error occurred while fetching data. Please try again later."}],extensions:{}}};throw e}}async function b(e,t,r,n,a,s){return S((0,i.RD)(e),t,r,n,a,s)}async function S(e,t,r,n,a,s){let i,o,d={...(0,g.kt)()};s?.issues_react_perf_test&&(d["X-LUC-Environment"]="issues");let c=(i="GET"===t?await fetch(e,{method:t,cache:"no-cache",credentials:"include",headers:{Accept:"application/json",...d}}):await (0,l.DI)(e,{method:t,headers:{Accept:"application/json",...d},...a?{body:a}:void 0})).headers.get("X-Subscription-ID"),p=i.headers.get("X-Github-Request-Id")||"",m=i.status;await y(i,r,n);try{o=await i.json()}catch(r){let t={error:r,status:m,url:e,requestId:p};throw(0,u.N7)(Error(`Failed to parse server JSON response ${JSON.stringify(t)}`)),Error(`Failed to parse server response. Please try again later. ${JSON.stringify(t)}`)}return{subscriptionId:c,requestId:p,json:o,status:m}}let I=[{kind:"linked",handle(e,t,r){if(null!=t&&t.getType()===s.ROOT_TYPE&&"node"===e.name&&r.hasOwnProperty("id"))return r.id}},{kind:"pluralLinked",handle(e,t,r){if(null!=t&&t.getType()===s.ROOT_TYPE&&"nodes"===e.name&&r.hasOwnProperty("ids"))return r.ids}}];var F=r(11418),N=r(73056),E=r(69982);function _(e){return(0,E.unstable_scheduleCallback)(E.unstable_LowPriority,e)}let T={cancel:()=>!1,schedule:e=>((0,a.unstable_batchedUpdates)(e),"")};let SSRNetwork=class SSRNetwork{execute(e,t,r){return this.relayNetwork.execute(e,t,r)}getPreloadedSubscriptions(){return this.preloadedSubscriptions}constructor(e,t={},r,a,i,l){(0,n._)(this,"relayNetwork",void 0),(0,n._)(this,"ssrPreloadedData",void 0),(0,n._)(this,"preloadedSubscriptions",void 0),(0,n._)(this,"warningsShown",void 0),(0,n._)(this,"enabled_features",void 0),(0,n._)(this,"maxAge",void 0),(0,n._)(this,"errorCallbacks",void 0),this.ssrPreloadedData=e,this.enabled_features=t,this.preloadedSubscriptions=r,this.warningsShown=new Set,this.maxAge=i,this.errorCallbacks=l,this.relayNetwork=s.Network.create((e,t)=>s.Observable.create(r=>{let n=function({params:e,variables:t,ssrPreloadedQueries:r,baseUrl:n,emitWarning:a,enabledFeatures:s,maxAge:i,errorCallbacks:l,observer:u}){if(!e.id)throw Error("params has no id property!");if(e.id&&r){let n=JSON.stringify(t),a=r.get(e.id)?.get(n),s=Math.floor(Date.now()/1e3),l=a?.timestamp;if(a&&(u.next(a),!(i&&l&&s>l+i)))return void u.complete();e.metadata?.isRelayRouteRequest&&(0,o.g5)()}let d="mutation"===e.operationKind?"POST":"GET";if(o.KJ)return f(e.id,e.name,t,d,n,s,l,u)}({params:e,variables:t,ssrPreloadedQueries:this.ssrPreloadedData,baseUrl:a,emitWarning:e=>{this.warningsShown.has(e)||(this.warningsShown.add(e),console.warn(e))},enabledFeatures:this.enabled_features,maxAge:i,errorCallbacks:this.errorCallbacks,observer:r});n instanceof Promise&&n.then(e=>{if(!Array.isArray(e)&&"extensions"in e&&e.extensions&&e.extensions.subscriptions){let t=e.extensions.subscriptions;for(let e in t)for(let r in this.preloadedSubscriptions.has(e)||this.preloadedSubscriptions.set(e,new Map),t[e])this.preloadedSubscriptions.get(e)?.set(r,t[e][r])}r.next(e),r.complete()})}),(e,t)=>(function(e,t,r=new Map){let n=e.id,a=e.name;return s.Observable.create(s=>{let i=()=>{},l=!1;return async function(){if(!n)throw Error("unexpected operation with no id!");let o=e.metadata?.scope,d=function(e,t,r,n){let a=n.get(e);if(a)e:for(let[e,n]of a){for(let[n,a]of Object.entries(JSON.parse(e)))if("$scope"===n&&r!==a||t[n]!==a)continue e;return n}}(n,t,o,r),c=null;if(d)c=d.subscriptionId,d.response&&s.next(d.response);else try{let e=await k(n,a,t,"GET",{isSubscription:!0,scope:o});c=e.subscriptionId,e.response&&s.next(e.response)}catch(e){if(e instanceof Error&&e.message.includes("Subscription halted"))return;throw e}try{let e=await (0,F.H)();if(l)return;let r=(0,N.$)(e,c,async({scope_object:e,subscription_topic:r,dispatch_time:i})=>{try{let{response:l}=await k(n,a,{...t},"GET",{isSubscription:!0,scopeObject:e,subscriptionTopic:r,dispatchTime:i,scope:o});l&&s.next(l)}catch(e){(0,u.N7)(e,{message:`Error in fetching update for ${n} with variables ${JSON.stringify(t)}`})}});r?.unsubscribe&&(i=r.unsubscribe)}catch(e){s.error(e)}}(),{get closed(){return l},unsubscribe(){l=!0,i()}}})})(e,t,this.preloadedSubscriptions))}};let w=(e,t)=>{let r=new SSRNetwork(new Map,{},new Map,e,void 0,t),n=new s.Environment({scheduler:T,store:new s.Store(new s.RecordSource,{gcReleaseBufferSize:50,queryCacheExpirationTime:3e5,gcScheduler:_}),getDataID:(e,t)=>{if("Viewer"===t)return null==e.id?(0,s.generateClientID)("client:root","viewer"):e.id;if("ProjectV2SingleSelectFieldOption"===t){let t=[];return e.id&&t.push(e.id),e.name&&t.push(e.name),e.color&&t.push(e.color),e.description&&t.push(function(e){let t=0;if(0===e.length)return t;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r)|0;return t}(e.description)),t.join("_")}return e.id},network:r,missingFieldHandlers:I});return n.options={baseUrl:e,getPreloadedSubscriptions:()=>r.getPreloadedSubscriptions()},n};function x({environment:e,query:t,variables:r={}}){let n=(0,s.getRequest)(t),a=(0,s.createOperationDescriptor)(n,r);return e.retain(a),(0,s.fetchQuery)(e,t,r,{fetchPolicy:"store-or-network"})}},54571:(e,t,r)=>{r.d(t,{I:()=>i});var n=r(96540),a=r(88431),s=r(76629);function i(e,t,r=[]){let l=(0,n.useCallback)(e,r),o=(0,s.BP)(),u=(0,n.useRef)(o===s.O8.ClientRender),[d,c]=(0,n.useState)(()=>o===s.O8.ClientRender?l():t),p=(0,n.useCallback)(()=>{c(l)},[l]);return(0,a.N)(()=>{u.current||c(l),u.current=!1},[l,...r]),[d,p]}},14307:(e,t,r)=>{r.d(t,{M3:()=>o,Nh:()=>u,Wk:()=>l,i4:()=>s});var n=r(21998),a=r(96540);let s=["GRAY","BLUE","GREEN","YELLOW","ORANGE","RED","PINK","PURPLE"],i={BLUE:"accent",GREEN:"success",YELLOW:"attention",ORANGE:"severe",RED:"danger",PINK:"sponsors",PURPLE:"done"},l=(e="GRAY")=>{let{getPresentationalColor:t}=o();return t(e)},o=()=>{let{theme:e,resolvedColorScheme:t="light"}=(0,n.DP)();return{getPresentationalColor:(0,a.useCallback)((r="GRAY")=>{let n=d(t),a=e?.colorSchemes?.[n]?.colors;if("GRAY"===r)return{bg:a?.canvas?.subtle,fg:a?.fg?.muted,border:a?.border?.default,accent:a?.fg?.subtle};{let e=a?.[i[r]];return{bg:e?.subtle,fg:e?.fg,border:e?.muted,accent:e?.emphasis}}},[e,t])}},u=e=>s.includes(e),d=e=>"light_colorblind"===e||"light_tritanopia"===e?"light":"dark_colorblind"===e||"dark_tritanopia"===e?"dark":e},73454:(e,t,r)=>{r.d(t,{h:()=>d});var n=r(74848),a=r(38621),s=r(1805),i=r(21998),l=r(10095);let o={ErrorWithRetryContainer:"ErrorWithRetry-module__ErrorWithRetryContainer--eDhIy",errorAlertIcon:"ErrorWithRetry-module__errorAlertIcon--Iiexz",errorMessage:"ErrorWithRetry-module__errorMessage--DNJUZ",retryActionLink:"ErrorWithRetry-module__retryActionLink--Xys2Y"};var u=r(34164);function d({message:e,retry:t,sx:r}){return(0,n.jsxs)(i.az,{sx:r,className:o.ErrorWithRetryContainer,children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(l.A,{icon:a.AlertFillIcon,className:(0,u.$)("mr-1",o.errorAlertIcon)}),(0,n.jsx)("span",{className:o.errorMessage,children:e})]}),(0,n.jsx)(s.A,{as:"button",underline:!0,onClick:t,className:o.retryActionLink,children:(0,n.jsx)("span",{className:o.retryActionLink,children:"Try again"})})]})}try{d.displayName||(d.displayName="ErrorWithRetry")}catch{}},25983:(e,t,r)=>{r.d(t,{n:()=>d});var n=r(74848),a=r(1805),s=r(21998),i=r(96540);let l={issueTypeTokenContainer:"IssueTypeToken-module__issueTypeTokenContainer--u7mnl",tokenText:"IssueTypeToken-module__tokenText--jTqtr",token:"IssueTypeToken-module__token--QZUId"};var o=r(11196),u=r(34164);let d=({name:e,color:t,href:r,getTooltipText:d,size:p,sx:g,className:m})=>{let h=(0,i.useRef)(null),[y,f]=(0,i.useState)(!1);(0,i.useEffect)(()=>f(c(h.current)),[f,h]);let k=(0,n.jsx)(a.A,{href:r,children:(0,n.jsx)(s.ou,{className:(0,u.$)(l.token,m),"data-color":t,ref:h,sx:g,text:(0,n.jsx)("span",{className:l.tokenText,children:e})})}),b=d(y);return(0,n.jsx)("div",{className:l.issueTypeTokenContainer,"data-size":p,children:b?(0,n.jsx)(o.m,{text:b,children:k}):k})},c=e=>!!e&&!!e.firstElementChild&&e.firstElementChild.scrollWidth>e.firstElementChild.clientWidth;try{d.displayName||(d.displayName="IssueTypeToken")}catch{}},81289:(e,t,r)=>{r.d(t,{y:()=>i});var n=r(74848),a=r(83494),s=r(96540);function i({anchorElement:e,createChild:t,keybindingCommandId:r}){let[i,l]=(0,s.useState)(!1),o=(0,s.useRef)(null),u=(0,s.useCallback)(()=>{i||l(!0)},[i,l]);return i?t():(0,n.jsxs)(n.Fragment,{children:[r&&(0,n.jsx)(a.ak,{commands:{[r]:u}}),e({onClick:()=>l(!0),onKeyPress:e=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),l(!0))}},o)]})}try{i.displayName||(i.displayName="LazyItemPicker")}catch{}},81709:(e,t,r)=>{r.d(t,{j:()=>o});var n=r(74848),a=r(73454),s=r(31604),i=r(96540);let l={errorOverlayContainer:"useItemPickerErrorFallback-module__errorOverlayContainer--Z5I2C",errorWithRetry:"useItemPickerErrorFallback-module__errorWithRetry--kl8Hn"};function o({errorMessage:e,anchorElement:t,open:r=!1}){let[o,u]=(0,i.useState)(r);return{createFallbackComponent:(0,i.useCallback)(r=>t?(0,n.jsx)(s.T,{width:"medium",height:"small",open:o,onOpen:()=>u(!0),onClose:()=>u(!1),renderAnchor:t,children:(0,n.jsx)("div",{className:l.errorOverlayContainer,children:(0,n.jsx)(a.h,{message:e,retry:r,className:l.errorWithRetry})})}):null,[t,e,o])}}},14709:(e,t,r)=>{r.d(t,{N:()=>o,z:()=>u});var n,a=r(74848),s=r(14307),i=r(38621),l=r(21998);function o(e){return"TEXT"===e?i.TypographyIcon:"SINGLE_SELECT"===e?i.SingleSelectIcon:"DATE"===e?i.CalendarIcon:"NUMBER"===e?i.NumberIcon:void 0}let u=e=>function(){let t=s.i4.find(t=>t===e),{bg:r,accent:n}=(0,s.Wk)(t);return(0,a.jsx)(l.az,{sx:{bg:r,borderColor:n,borderWidth:2,borderStyle:"solid",width:12,height:12,borderRadius:8,flexShrink:0}})};try{(n=IssueSingleSelectFieldPickerItemLeadingVisual).displayName||(n.displayName="IssueSingleSelectFieldPickerItemLeadingVisual")}catch{}},23490:(e,t,r)=>{r.d(t,{iF:()=>S});var n=r(74848);let a={kind:"InlineDataFragment",name:"IssueFieldPickerIssueField"};a.hash="31d854fea63dea594c796cfb9821b91c";let s=function(){var e=[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"databaseId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dataType",storageKey:null}];return{argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"issueFieldsPageSize"}],kind:"Fragment",metadata:{connection:[{count:"issueFieldsPageSize",cursor:null,direction:"forward",path:["issueFields"]}]},name:"IssueFieldPickerPaginated",selections:[{alias:"issueFields",args:null,concreteType:"IssueFieldsConnection",kind:"LinkedField",name:"__Organization_issueFields_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"IssueFieldsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"IssueFieldPickerIssueField",selections:[{kind:"InlineFragment",selections:e,type:"IssueFieldText",abstractKey:null},{kind:"InlineFragment",selections:e,type:"IssueFieldSingleSelect",abstractKey:null},{kind:"InlineFragment",selections:e,type:"IssueFieldDate",abstractKey:null},{kind:"InlineFragment",selections:e,type:"IssueFieldNumber",abstractKey:null}],args:null,argumentDefinitions:[]},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:null}],type:"Organization",abstractKey:null}}();s.hash="8a6dd6e5fd4fe5d70ead8019af2bbe61";let i=function(){var e={defaultValue:null,kind:"LocalArgument",name:"issueFieldsPageSize"},t={defaultValue:null,kind:"LocalArgument",name:"name"},r=[{kind:"Variable",name:"login",variableName:"name"}],n=[{kind:"Variable",name:"first",variableName:"issueFieldsPageSize"}],a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},s=[a,{alias:null,args:null,kind:"ScalarField",name:"databaseId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dataType",storageKey:null}];return{fragment:{argumentDefinitions:[e,t],kind:"Fragment",metadata:null,name:"IssueFieldPickerQuery",selections:[{alias:null,args:r,concreteType:"Organization",kind:"LinkedField",name:"organization",plural:!1,selections:[{args:[{kind:"Variable",name:"issueFieldsPageSize",variableName:"issueFieldsPageSize"}],kind:"FragmentSpread",name:"IssueFieldPickerPaginated"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[t,e],kind:"Operation",name:"IssueFieldPickerQuery",selections:[{alias:null,args:r,concreteType:"Organization",kind:"LinkedField",name:"organization",plural:!1,selections:[{alias:null,args:n,concreteType:"IssueFieldsConnection",kind:"LinkedField",name:"issueFields",plural:!1,selections:[{alias:null,args:null,concreteType:"IssueFieldsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"TypeDiscriminator",abstractKey:"__isIssueFields"},{kind:"InlineFragment",selections:s,type:"IssueFieldText",abstractKey:null},{kind:"InlineFragment",selections:s,type:"IssueFieldSingleSelect",abstractKey:null},{kind:"InlineFragment",selections:s,type:"IssueFieldDate",abstractKey:null},{kind:"InlineFragment",selections:s,type:"IssueFieldNumber",abstractKey:null},{kind:"InlineFragment",selections:[a],type:"Node",abstractKey:"__isNode"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:n,filters:null,handle:"connection",key:"Organization_issueFields",kind:"LinkedHandle",name:"issueFields"},a],storageKey:null}]},params:{id:"dadedc2e94c39085c4fdd2fe515621a9",metadata:{},name:"IssueFieldPickerQuery",operationKind:"query",text:null}}}();i.hash="9a4fe5cc933711b34b06c8deb4838e9d";var l=r(18815),o=r(19918),u=r(86391),d=r(81289),c=r(81709),p=r(30721),g=r(71315),m=r(26607),h=r(1805),y=r(96540),f=r(18312),k=r(14709);let b=(0,n.jsxs)("div",{className:"IssueFieldPicker-module__footer--mYJzU",children:[(0,n.jsx)(m.A,{variant:"success",children:"Preview"}),(0,n.jsx)(h.A,{href:"/github/core-productivity/discussions/804",children:"Share feedback"})]});function S({shortcutEnabled:e,anchorElement:t,...r}){return(0,n.jsx)(d.y,{anchorElement:e=>t(e),createChild:()=>(0,n.jsx)(I,{anchorElement:(e,r)=>t(e,r),shortcutEnabled:e,...r}),insidePortal:r.insidePortal,keybindingCommandId:"item-pickers:open-fields"})}function I({owner:e,anchorElement:t,...r}){let a=(0,f.useRelayEnvironment)(),[s,u]=(0,y.useState)(!0),[d,m]=(0,y.useState)(0),[h,k]=(0,y.useState)(!1),[b,S]=(0,y.useState)(null);(0,y.useEffect)(()=>{g.X3||(0,p.SD)({environment:a,query:i,variables:{name:e,issueFieldsPageSize:l.AE}}).subscribe({next:e=>{S(e.organization??null),u(!1),k(!1)},error:()=>{k(!0),u(!1)}})},[a,d,e]);let{createFallbackComponent:I}=(0,c.j)({errorMessage:o.k.cantEditItems("fields"),anchorElement:t,open:!0});return h?I(()=>m(e=>e+1)):(0,n.jsx)(F,{owner:e,fields:b,isLoading:s,anchorElement:t,...r})}function F({title:e=o.k.fieldsHeader,width:t="medium",fields:r,fieldsSet:i,onSelectionChange:l,insidePortal:d,anchorElement:c,isLoading:p,nested:g,notice:m}){let[h,S]=(0,y.useState)(""),I=(0,f.useFragment)(s,r),F=(0,y.useMemo)(()=>(I?.issueFields?.edges?.flatMap(e=>e?.node?[(0,f.readInlineData)(a,e.node)]:[])||[]).filter(e=>!!e&&(!(i.length>0)||!e.name||-1===i.indexOf(e.name))),[I,i]),N=(0,y.useMemo)(()=>h?F.filter(e=>e.name&&e.name.toLowerCase().indexOf(h.toLowerCase())>=0):F,[F,h]),E=(0,y.useCallback)(e=>{S(e)},[]),_=(0,y.useCallback)(e=>e.id||"",[]),T=(0,y.useId)(),w=(0,y.useCallback)(e=>({id:e.id||T,text:e.name,description:e.description||"",descriptionVariant:"block",leadingVisual:(0,k.N)(e.dataType||"TEXT"),source:e}),[T]),x=(0,y.useRef)(null),v=(0,y.useMemo)(()=>0===N.length,[N.length]);return(0,n.jsx)(u.O,{loading:p,items:N,initialSelectedItems:[],filterItems:E,title:e,getItemKey:_,convertToItemProps:w,placeholderText:"Filter fields",selectionVariant:"single",onSelectionChange:l,renderAnchor:e=>c(e,x),insidePortal:d,height:"large",width:t,nested:g,resultListAriaLabel:"Issue Fields results",triggerOpen:!0,notice:m,selectPanelRef:x,keybindingCommandId:"item-pickers:open-fields",improvedNoMatchAccessibility:v,secondaryAction:b,noMatchMessage:v?{title:"No issue fields were found",variant:"empty",body:"Try searching with a different query for results."}:void 0})}try{b.displayName||(b.displayName="SECONDARY_ACTION")}catch{}try{S.displayName||(S.displayName="IssueFieldPicker")}catch{}try{I.displayName||(I.displayName="IssueFieldPickerFetcher")}catch{}try{F.displayName||(F.displayName="ItemPickerWrapper")}catch{}}}]);
//# sourceMappingURL=packages_issue-fields-shared_issue-field_ts-packages_use-client-value_use-client-value_ts-pac-b53755-b0f5a9d861f4.js.map