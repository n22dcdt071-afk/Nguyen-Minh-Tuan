"use strict";(globalThis.webpackChunk_github_ui_github_ui=globalThis.webpackChunk_github_ui_github_ui||[]).push([["packages_alive_alive_ts-packages_alive_connect-alive-subscription_ts-packages_history_history-ab6ca5"],{47723:(e,t,n)=>{n.d(t,{Ct:()=>u,Dv:()=>a,Ff:()=>r,Ns:()=>o,R2:()=>c,XT:()=>d,kF:()=>l,pr:()=>i,qB:()=>h,v:()=>s});let a="agents",r="Agents",i="/copilot/agents",s="tasks",o="Tasks",l="task-view",c=1e4,u="/issues/agent_assignments",d="/copilot/agent-sessions/repositories",h="Provide additional instructions for Copilot";function f(e,t,n,a,r,i,s,o,l,c,u,d=0,h=!1){let m=new Date("2025-06-04T20:00:00.000Z"),p=new Date(m.getTime()-24*u*36e5),g=new Date(m.getTime()-24*d*36e5);return{id:e,global_relay_id:t,number:n,state:a,title:r,reviewable_state:i,url:`http://github.localhost:80/monalisa/smile/pull/${n}`,labels:s,comments:o,assignees_avatar_urls:Array.from({length:l},(t,n)=>`https://avatars.githubusercontent.com/u/${e+n}?v=4`),created_at:p.toISOString(),updated_at:g.toISOString(),merged_at:"merged"===a?g.toISOString():void 0,closed_at:"closed"===a||"merged"===a?g.toISOString():void 0,author:c,head_sha:`${r.toLowerCase().replace(/\s+/g,"")}123456789abcdef0123456789abcdef01234567`.substring(0,40),repository_nwo:"monalisa/smile",inMergeQueue:h,repository_id:1,head_ref_name:"feature-branch"}}function m(e,t,n,a,r,i,s,o,l=0,c=0,u){let d=new Date("2025-06-04T20:00:00.000Z"),h=new Date(d.getTime()-60*o*6e4),f=new Date(d.getTime()-60*l*6e4);return{id:e,name:t,user_id:n,agent_id:a,state:r,owner_id:9919,repo_id:4,resource_type:"pull",resource_id:i,resource_global_id:s,created_at:h.toISOString(),last_updated_at:f.toISOString(),completed_at:"completed"===r||"failed"===r?f.toISOString():void 0,workflow_run_id:12340+Math.floor(30*Math.random()),log_entries:[],error:u?{message:u}:null,premium_requests:c,event_identifiers:null,event_type:"api_call_received"}}function p(e,t){return{resource_type:"pull",resource_id:e.id,resource_global_id:e.global_relay_id,session_count:1,latest_session_updated_at:t.last_updated_at,latest_session_state:t.state,pull:e}}(()=>{let e=["cancelled","idle","in_progress","waiting_for_user","completed","failed","timed_out"],t={titles:["Refactor database queries for performance","Implement dark mode theme","Optimize API response times","Add mobile responsive design","Implement caching layer","Add internationalization support","Update documentation and README","Fix critical security vulnerability","Add user authentication system","Initial project setup and configuration","Implement real-time notifications","Add search functionality","Optimize bundle size","Add unit tests coverage","Implement error handling","Add accessibility features","Optimize database connections","Implement feature flags","Migrate to TypeScript","Implement CI/CD pipeline","Add monitoring and alerts"],authors:["alice-dev","bob-backend","charlie-frontend","diana-fullstack","eve-designer","frank-security"],labels:[["performance","database"],["ui","theme","enhancement"],["performance","api"],["mobile","responsive","ui"],["performance","caching","backend"],["i18n","feature","localization"]],errorMessages:["timeout","validation error","resource conflict","permission denied"]},n=1,a="";return[...["open","closed","merged"].flatMap(r=>e.map(e=>{a=`PR_${n}`;let i=(n-1)%t.titles.length,s=t.titles[i],o=t.authors[(n-1)%t.authors.length],l=t.labels[i%t.labels.length],c=p(f(n,a,n,r,s,Math.random()>.7?"draft":"ready",l,Math.floor(15*Math.random())+1,Math.floor(3*Math.random()),o,n,n),m(`session-${n.toString().padStart(3,"0")}`,`${s.split(" ").slice(0,3).join(" ")} - ${e}`,0x996718+n,1143300+n,e,n,a,n,n,Math.floor(10*Math.random()),"failed"===e?`Operation failed due to ${t.errorMessages[Math.floor(4*Math.random())]}`:void 0));return n++,c})),p(f(n,a,n,"open","Add feature flags support (in merge queue)","ready",["feature","flags"],5,1,"alice-dev",21,0,!0),m(`session-${n.toString().padStart(3,"0")}`,"Add feature flags support - in_progress",0x996718+n,1143300+n,"in_progress",n,a,1,0,2,void 0))]})()},51120:(e,t,n)=>{n.d(t,{I:()=>s,j:()=>FetchCAPI401Error});var a=n(34295),r=n(25641),i=n(21067);let FetchCAPI401Error=class FetchCAPI401Error extends Error{constructor(e){super(e),this.name="FetchCAPI401Error"}};async function s({path:e,method:t="GET",streamingResponse:n=!1,body:s}){let o=new a.l,l=await o.getAuthToken();if(!l)throw Error("No token available");let c={authToken:l,basePath:(0,i._$)().copilotApiOverrideUrl??"https://api.githubcopilot.com",method:t,path:e,streamingResponse:n,body:s},u=await (0,r.p)(c);if(!u.ok){if(401===u.status)throw new FetchCAPI401Error("Unauthorized access - token may be invalid or expired");throw Error("Failed to fetch agent sessions")}return u}},11418:(e,t,n)=>{let a;n.d(t,{H:()=>R});var r=n(35750),i=n(18150),s=n(85242),o=n(88243),l=n(16213),c=n(10204),u=new WeakMap,d=new WeakSet;let AliveSession=class AliveSession extends c.ib{constructor(e,t,n,a,r){super(e,()=>(0,o._)(this,d,h).call(this),n,a,void 0,r),(0,l._)(this,d),(0,i._)(this,u,{writable:!0,value:void 0}),(0,s._)(this,u,t)}};function h(){return f((0,r._)(this,u))}async function f(e){let t=await m(e);return t&&t.url&&t.token?p(t.url,t.token):null}async function m(e){let t=await fetch(e,{headers:{Accept:"application/json"}});if(t.ok)return t.json();if(404===t.status)return null;throw Error("fetch error")}async function p(e,t){let n=await fetch(e,{method:"POST",mode:"same-origin",headers:{"Scoped-CSRF-Token":t}});if(n.ok)return n.text();throw Error("fetch error")}var g=n(70170),v=n(34095),w=n(82075),_=n(23683),b=n(69599);function S(e,{channel:t,type:n,data:a}){for(let r of e)r.dispatchEvent(new CustomEvent(`socket:${n}`,{bubbles:!1,cancelable:!1,detail:{name:t,data:a}}))}var y=new WeakMap,C=new WeakMap,E=new WeakMap,k=new WeakMap,A=new WeakMap,x=new WeakSet;let I=class AliveSessionProxy{subscribe(e){let t=(0,r._)(this,C).add(...e);t.length&&(0,r._)(this,y).port.postMessage({subscribe:t});let n=new Set(t.map(e=>e.name)),a=e.reduce((e,t)=>{let a=t.topic.name;return(0,c.JR)(a)&&!n.has(a)&&e.add(a),e},new Set);a.size&&(0,r._)(this,y).port.postMessage({requestPresence:Array.from(a)})}unsubscribeAll(...e){let t=(0,r._)(this,C).drain(...e);t.length&&(0,r._)(this,y).port.postMessage({unsubscribe:t});let n=(0,r._)(this,E).removeSubscribers(e);this.sendPresenceMetadataUpdate(n)}updatePresenceMetadata(e){let t=new Set;for(let n of e)(0,r._)(this,E).setMetadata(n),t.add(n.channelName);this.sendPresenceMetadataUpdate(t)}sendPresenceMetadataUpdate(e){if(!e.size)return;let t=[];for(let n of e)t.push({channelName:n,metadata:(0,r._)(this,E).getChannelMetadata(n)});(0,r._)(this,y).port.postMessage({updatePresenceMetadata:t})}online(){(0,r._)(this,y).port.postMessage({online:!0})}offline(){(0,r._)(this,y).port.postMessage({online:!1})}hangup(){(0,r._)(this,y).port.postMessage({hangup:!0})}constructor(e,t,n,a,u,d){(0,l._)(this,x),(0,i._)(this,y,{writable:!0,value:void 0}),(0,i._)(this,C,{writable:!0,value:new c.m0}),(0,i._)(this,E,{writable:!0,value:new c.VH}),(0,i._)(this,k,{writable:!0,value:void 0}),(0,i._)(this,A,{writable:!0,value:new Map}),(0,s._)(this,k,u),(0,s._)(this,y,new SharedWorker(`${e}?module=true`,{name:`github-socket-worker-v3-${a}`,type:"module"})),(0,r._)(this,y).port.onmessage=({data:e})=>(0,o._)(this,x,P).call(this,e),(0,r._)(this,y).port.postMessage({connect:{url:t,refreshUrl:n,options:d}})}};function P(e){let{channel:t}=e;if("presence"===e.type){let n=(0,r._)(this,A).get(t);n||(n=(0,g.s)((e,n)=>{(0,r._)(this,k).call(this,e,n),(0,r._)(this,A).delete(t)},100),(0,r._)(this,A).set(t,n)),n((0,r._)(this,C).subscribers(t),e);return}(0,r._)(this,k).call(this,(0,r._)(this,C).subscribers(t),e)}async function L(){let e=function(){let e=document.head.querySelector("link[rel=shared-web-socket-src]")?.getAttribute("href");return e&&e.startsWith("/")?e:null}();if(!e)return;let t=document.head.querySelector("link[rel=shared-web-socket]")?.href??null;if(!t)return;let n=document.head.querySelector("link[rel=shared-web-socket]")?.getAttribute("data-refresh-url")??null;if(!n)return;let a=document.head.querySelector("link[rel=shared-web-socket]")?.getAttribute("data-session-id")??null;if(!a)return;let r=(()=>{let r=(0,b.G7)("alive_legacy_retries")?{socketPolicy:{timeout:4e3,attempts:7}}:{};if(!(0,_.nr)()&&"SharedWorker"in window&&"true"!==(0,w.A)("localStorage").getItem("bypassSharedWorker"))try{return new I(e,t,n,a,S,r)}catch{}return new AliveSession(t,n,!1,S,r)})();return window.addEventListener("online",()=>r.online()),window.addEventListener("offline",()=>r.offline()),window.addEventListener("pagehide",()=>{"hangup"in r&&r.hangup()}),r}async function M(){return await v.G,L()}function R(){return a||(a=M())}},73056:(e,t,n)=>{n.d(t,{$:()=>s});var a=n(10204),r=n(33303);let i=new WeakMap;function s(e,t,n){let s;if(!e)throw Error("Not connected to alive");if(!t)throw Error("No channel name");let o=a.KK.parse(t);if(!o)throw Error("Invalid channel name");let l={subscriber:{dispatchEvent:e=>{e instanceof CustomEvent&&n(e.detail.data)}},topic:o},c=((s=i.get(e))||(s={subscribe:(0,r.rK)(t=>e.subscribe(t.flat())),unsubscribeAll:(0,r.rK)(t=>e.unsubscribeAll(...t))},i.set(e,s)),s);return c.subscribe([l]),{unsubscribe:()=>c.unsubscribeAll(l.subscriber)}}},34295:(e,t,n)=>{n.d(t,{l:()=>AgentSessionsTokenProvider});var a=n(65411);let AgentSessionsTokenProvider=class AgentSessionsTokenProvider extends a.J{constructor(){super([],"/copilot/agent-sessions/token","AGENT_SESSIONS_TOKEN")}}},33303:(e,t,n)=>{function a(){return Promise.resolve()}function r(){return new Promise(window.requestAnimationFrame)}async function i(e,t){let n,a=new Promise(t=>{n=self.setTimeout(t,e)});if(!t)return a;try{var r;await Promise.race([a,(r=t,new Promise((e,t)=>{let n=Error("aborted");n.name="AbortError",r.aborted?t(n):r.addEventListener("abort",()=>t(n))}))])}catch(e){throw self.clearTimeout(n),e}}function s(e){let t=[];return function(n){t.push(n),1===t.length&&queueMicrotask(()=>{let n=t.slice(0);t.length=0,e(n)})}}n.d(t,{G$:()=>r,k2:()=>a,rK:()=>s,uk:()=>i})},53627:(e,t,n)=>{n.d(t,{C3:()=>o,JV:()=>r,K3:()=>d,MM:()=>l,OE:()=>h,Zu:()=>u,bj:()=>i,jc:()=>c,kd:()=>s});var a=n(71315);function r(){return a.Kn?.state||{}}function i(e){f(r(),"",e)}function s(e){a.Kn?.pushState({appId:r().appId},"",e),m()}function o(e){f({...r(),...e},"",location.href)}function l(e){i(`?${e.toString()}${a.fV.hash}`)}function c(){i(a.fV.pathname+a.fV.hash)}function u(e){i(e.startsWith("#")?e:`#${e}`)}function d(){i(a.fV.pathname+a.fV.search)}function h(){a.Kn?.back()}function f(e,t,n){a.Kn?.replaceState(e,t,n),m()}function m(){a.cg?.dispatchEvent(new CustomEvent("statechange",{bubbles:!1,cancelable:!1}))}},37285:(e,t,n)=>{n.d(t,{Av:()=>o,BM:()=>r,Gr:()=>l,HX:()=>d,M_:()=>h,RD:()=>u,rb:()=>i});var a=n(71315);let r="GraphQLTraces",i="GraphQLTracingRefresh",s=decodeURIComponent(new URLSearchParams(a.fV.search).get("disable_clusters")||"").split(",").filter(e=>""!==e);function o(e){if(!a.cg||!l()||!e)return;let t=a.cg;t&&!t[r]&&(t[r]=[]),t&&e.__trace&&(t[r].push(e.__trace),"function"==typeof t[i]&&t[i]())}function l(){let e=a.cg;return"true"===new URLSearchParams(a.fV.search).get("_tracing")||e&&void 0!==e[r]}function c(){return s.length>0}function u(e){if(!l()&&!c())return e;let t=new URL(e,a.fV.origin);return l()&&t.searchParams.set("_tracing","true"),c()&&t.searchParams.set("disable_clusters",s.join(",")),t.pathname+t.search}function d(e){return s.indexOf(e)>-1}function h(e){let t=s.indexOf(e);t>-1?s.splice(t,1):s.push(e);let n=new URLSearchParams(a.fV.search);n.set("disable_clusters",s.join(",")),a.fV.search=n.toString()}},73900:(e,t,n)=>{n.d(t,{Kq:()=>SoftNavErrorEvent,RQ:()=>SoftNavEndEvent,gh:()=>SoftNavPayloadEvent,ni:()=>SoftNavSuccessEvent,sW:()=>SoftNavStartEvent});var a=n(50467),r=n(82591);let i=class SoftNavEvent extends Event{constructor(e,t){super(t),(0,a._)(this,"mechanism",void 0),this.mechanism=e}};let SoftNavStartEvent=class SoftNavStartEvent extends i{constructor(e){super(e,r.z.START)}};let SoftNavSuccessEvent=class SoftNavSuccessEvent extends i{constructor(e,t){super(e,r.z.SUCCESS),(0,a._)(this,"visitCount",void 0),this.visitCount=t}};let SoftNavErrorEvent=class SoftNavErrorEvent extends i{constructor(e,t){super(e,r.z.ERROR),(0,a._)(this,"error",void 0),this.error=t}};let SoftNavEndEvent=class SoftNavEndEvent extends i{constructor(e){super(e,r.z.END)}};let SoftNavPayloadEvent=class SoftNavPayloadEvent extends Event{constructor(e){super("soft-nav:payload"),(0,a._)(this,"payload",void 0),(0,a._)(this,"appPayload",void 0),this.payload=e.payload,this.appPayload=e.appPayload}}},65432:(e,t,n)=>{n.d(t,{Bu:()=>m,SC:()=>c,Ti:()=>h,iS:()=>u,k5:()=>l,o4:()=>d,rZ:()=>f});var a=n(82591),r=n(73900),i=n(15838),s=n(94416);let o=0;function l(){o=0,document.dispatchEvent(new Event(a.z.INITIAL)),(0,s.xT)()}function c(e){(0,s.LM)()||(document.dispatchEvent(new Event(a.z.PROGRESS_BAR.START)),document.dispatchEvent(new r.sW(e)),(0,s.Vy)(e),(0,s.ZW)(),(0,s.HK)(),(0,i.E5)())}function u(e={}){g(e)&&(o+=1,document.dispatchEvent(new r.ni((0,s.di)(),o)),h(e))}function d(e={}){if(!g(e))return;o=0;let t=(0,s.my)()||s.BW;document.dispatchEvent(new r.Kq((0,s.di)(),t)),p(),(0,i.Cd)(t),(0,s.xT)()}function h(e={}){if(!g(e))return;let t=(0,s.di)();p(),document.dispatchEvent(new r.RQ(t)),(0,s.Ff)(),(0,s.JA)(t)}function f(e={}){g(e)&&((0,i.Im)(),document.dispatchEvent(new Event(a.z.RENDER)))}function m(){document.dispatchEvent(new Event(a.z.FRAME_UPDATE))}function p(){document.dispatchEvent(new Event(a.z.PROGRESS_BAR.END))}function g({skipIfGoingToReactApp:e,allowedMechanisms:t=[]}={}){return(0,s.LM)()&&(0===t.length||t.includes((0,s.di)()))&&(!e||!(0,s.gc)())}},82591:(e,t,n)=>{n.d(t,{z:()=>a});let a=Object.freeze({INITIAL:"soft-nav:initial",START:"soft-nav:start",REPLACE_MECHANISM:"soft-nav:replace-mechanism",SUCCESS:"soft-nav:success",ERROR:"soft-nav:error",FRAME_UPDATE:"soft-nav:frame-update",END:"soft-nav:end",RENDER:"soft-nav:render",PROGRESS_BAR:{START:"soft-nav:progress-bar:start",END:"soft-nav:progress-bar:end"}})},15838:(e,t,n)=>{n.d(t,{Cd:()=>l,E5:()=>o,Im:()=>c,nW:()=>s});var a=n(11083),r=n(94416);let i="stats:soft-nav-duration",s={turbo:"TURBO",react:"REACT","turbo.frame":"FRAME",ui:"UI",hard:"HARD"};function o(){window.performance.clearResourceTimings(),window.performance.mark(i)}function l(e){(0,a.i)({turboFailureReason:e,turboStartUrl:(0,r.dR)(),turboEndUrl:window.location.href})}function c(){let e=function(){if(0===performance.getEntriesByName(i).length)return null;performance.measure(i,i);let e=performance.getEntriesByName(i).pop();return e?e.duration:null}();if(!e)return;let t=s[(0,r.di)()],n=Math.round(e);t===s.react&&document.dispatchEvent(new CustomEvent("staffbar-update",{detail:{duration:n}})),(0,a.i)({requestUrl:window.location.href,softNavigationTiming:{mechanism:t,destination:(0,r.fX)()||"rails",duration:n,initiator:(0,r.Pv)()||"rails"}})}},28195:(e,t,n)=>{n.d(t,{p:()=>g});var a=n(74848),r=n(21728),i=n(1992),s=n(26108),o=n(21373),l=n(5524),c=n(69726),u=n(34164),d=n(38621),h=n(51120),f=n(42455);let m={anchor:"SubAgentSelector-module__anchor--_VXhV",iconButton:"SubAgentSelector-module__iconButton--ixTes",checkIcon:"SubAgentSelector-module__checkIcon--sIlHa"},p=e=>{let t,n,i,s,o=(0,r.c)(5);return o[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,a.jsx)("path",{d:"M5.75 7.5C6.16421 7.5 6.5 7.83579 6.5 8.25V9.75C6.5 10.1642 6.16421 10.5 5.75 10.5C5.33579 10.5 5 10.1642 5 9.75V8.25C5 7.83579 5.33579 7.5 5.75 7.5Z",fill:"currentColor"}),n=(0,a.jsx)("path",{d:"M11 8.25C11 7.83579 10.6642 7.5 10.25 7.5C9.83579 7.5 9.5 7.83579 9.5 8.25V9.75C9.5 10.1642 9.83579 10.5 10.25 10.5C10.6642 10.5 11 10.1642 11 9.75V8.25Z",fill:"currentColor"}),i=(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.25 0C5.83579 0 5.5 0.335786 5.5 0.75C5.5 1.16421 5.83579 1.5 6.25 1.5H7.5V3.5H3.75C2.50736 3.5 1.5 4.50736 1.5 5.75V8H0.75C0.335786 8 0 8.33579 0 8.75C0 9.16421 0.335786 9.5 0.75 9.5H1.5V12.25C1.5 13.4926 2.50736 14.5 3.75 14.5H12.25C13.4926 14.5 14.5 13.4926 14.5 12.25V9.5H15.25C15.6642 9.5 16 9.16421 16 8.75C16 8.33579 15.6642 8 15.25 8H14.5V5.75C14.5 4.50736 13.4926 3.5 12.25 3.5H9V0.75C9 0.335786 8.66421 0 8.25 0H6.25ZM3 5.75C3 5.33579 3.33579 5 3.75 5H12.25C12.6642 5 13 5.33579 13 5.75V12.25C13 12.6642 12.6642 13 12.25 13H3.75C3.33579 13 3 12.6642 3 12.25V5.75Z",fill:"currentColor"}),o[0]=t,o[1]=n,o[2]=i):(t=o[0],n=o[1],i=o[2]),o[3]!==e?(s=(0,a.jsxs)("svg",{width:"16",height:"15",viewBox:"0 0 16 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[t,n,i]}),o[3]=e,o[4]=s):s=o[4],s};function g(e){let t,n,g,w,_,b,S,y,C=(0,r.c)(25),{repo:E,branch:k,selectedAgent:A,onSelect:x,iconOnly:I,disabled:P}=e,L=void 0===I||I,M=void 0!==P&&P;C[0]!==E?(t={repo:E},C[0]=E,C[1]=t):t=C[1];let{data:R,isLoading:T}=function(e){let t,n=(0,r.c)(3),{repo:a}=e;return n[0]!==a.nameOnly||n[1]!==a.owner?(t={queryKey:["custom-agents",a.owner,a.nameOnly],queryFn:async()=>{try{let e=await (0,h.I)({path:`/agents/swe/custom-agents/${a.owner}/${a.nameOnly}`});if(404===e.status)return[];return(await e.json()).agents}catch{return[]}}},n[0]=a.nameOnly,n[1]=a.owner,n[2]=t):t=n[2],(0,f.b)(t)}(t);C[2]!==R||C[3]!==A?(n=R?.find(e=>e.name===A),C[2]=R,C[3]=A,C[4]=n):n=C[4];let j=n,N=j?.display_name||j?.name,O=new URLSearchParams({filename:".github/agents/my-agent.md",value:`---
name:
description:
---

# My Agent

Describe what your agent does here...`}),V=`/${E.owner}/${E.nameOnly}/new/${k}?${O.toString()}`,$=N||"None",B=N?`Select a custom agent, selected: ${N}`:"Select a custom agent";return C[5]!==B||C[6]!==M||C[7]!==L||C[8]!==A||C[9]!==$?(g=(0,a.jsx)(i.W.Anchor,{children:L?(0,a.jsx)(s.K,{className:(0,u.$)(m.anchor,m.iconButton),icon:v,"aria-label":B,"data-selected":!!A,disabled:M}):(0,a.jsx)(o.Q,{leadingVisual:p,trailingAction:d.TriangleDownIcon,"aria-label":B,className:m.anchor,"data-selected":!!A,disabled:M,children:$})}),C[5]=B,C[6]=M,C[7]=L,C[8]=A,C[9]=$,C[10]=g):g=C[10],C[11]!==R||C[12]!==T||C[13]!==x||C[14]!==A?(w=T?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(l.l.Item,{children:[(0,a.jsx)(l.l.LeadingVisual,{children:(0,a.jsx)(c.A,{size:"small"})}),"Loading"]}),(0,a.jsx)(l.l.Divider,{})]}):R&&R.length>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(l.l.Group,{selectionVariant:"single",children:[(0,a.jsx)(l.l.Item,{selected:null===A,onSelect:()=>x(null),children:"None"}),R.map(e=>(0,a.jsx)(l.l.Item,{selected:A===e.name,onSelect:()=>x(e.name),children:e.display_name||e.name},e.name))]}),(0,a.jsx)(l.l.Divider,{})]}),C[11]=R,C[12]=T,C[13]=x,C[14]=A,C[15]=w):w=C[15],C[16]===Symbol.for("react.memo_cache_sentinel")?(_=(0,a.jsx)(l.l.LeadingVisual,{children:(0,a.jsx)(d.PlusIcon,{})}),C[16]=_):_=C[16],C[17]!==V?(b=(0,a.jsx)(l.l.Group,{selectionVariant:!1,children:(0,a.jsxs)(l.l.LinkItem,{href:V,target:"_blank",children:[_,"Create an agent"]})}),C[17]=V,C[18]=b):b=C[18],C[19]!==w||C[20]!==b?(S=(0,a.jsx)(i.W.Overlay,{width:"auto",children:(0,a.jsxs)(l.l,{children:[w,b]})}),C[19]=w,C[20]=b,C[21]=S):S=C[21],C[22]!==g||C[23]!==S?(y=(0,a.jsxs)(i.W,{children:[g,S]}),C[22]=g,C[23]=S,C[24]=y):y=C[24],y}let v=e=>{let t,n,i,s=(0,r.c)(5);return s[0]!==e?(t=(0,a.jsx)(p,{...e}),s[0]=e,s[1]=t):t=s[1],s[2]===Symbol.for("react.memo_cache_sentinel")?(n=(0,a.jsx)(w,{}),s[2]=n):n=s[2],s[3]!==t?(i=(0,a.jsxs)(a.Fragment,{children:[t,n]}),s[3]=t,s[4]=i):i=s[4],i},w=()=>{let e,t=(0,r.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,a.jsxs)("svg",{className:m.checkIcon,width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,children:[(0,a.jsx)("path",{d:"M7.41406 1.63379C7.75703 1.66786 8.08279 1.80212 8.34961 2.02051L8.47754 2.13672L8.47852 2.1377C8.806 2.46569 8.99015 2.91038 8.99023 3.37402C8.99023 3.7798 8.84934 4.17121 8.59473 4.48242L8.47852 4.61133L5.22754 7.8623C4.89954 8.18968 4.45486 8.37398 3.99121 8.37402C3.52761 8.37402 3.08292 8.18965 2.75488 7.8623L1.49121 6.59863L1.47949 6.58594C1.17042 6.25422 1.00181 5.8156 1.00977 5.3623L1.02148 5.19336C1.06638 4.80245 1.2419 4.43583 1.52246 4.15527C1.84299 3.83487 2.27541 3.65165 2.72852 3.64355L2.89844 3.64844C3.23454 3.67514 3.55557 3.79897 3.82324 4.00391L3.95312 4.1123L3.99121 4.15039L6.00391 2.1377V2.13672C6.33205 1.80893 6.77743 1.625 7.24121 1.625L7.41406 1.63379Z",fill:"#0969DA"}),(0,a.jsx)("path",{d:"M7.41406 1.63379C7.75703 1.66786 8.08279 1.80212 8.34961 2.02051L8.47754 2.13672L8.47852 2.1377C8.806 2.46569 8.99015 2.91038 8.99023 3.37402C8.99023 3.7798 8.84934 4.17121 8.59473 4.48242L8.47852 4.61133L5.22754 7.8623C4.89954 8.18968 4.45486 8.37398 3.99121 8.37402C3.52761 8.37402 3.08292 8.18965 2.75488 7.8623L1.49121 6.59863L1.47949 6.58594C1.17042 6.25422 1.00181 5.8156 1.00977 5.3623L1.02148 5.19336C1.06638 4.80245 1.2419 4.43583 1.52246 4.15527C1.84299 3.83487 2.27541 3.65165 2.72852 3.64355L2.89844 3.64844C3.23454 3.67514 3.55557 3.79897 3.82324 4.00391L3.95312 4.1123L3.99121 4.15039L6.00391 2.1377V2.13672C6.33205 1.80893 6.77743 1.625 7.24121 1.625L7.41406 1.63379Z",stroke:"white",strokeWidth:"2"}),(0,a.jsx)("path",{d:"M7.41406 1.63379C7.75703 1.66786 8.08279 1.80212 8.34961 2.02051L8.47754 2.13672L8.47852 2.1377C8.806 2.46569 8.99015 2.91038 8.99023 3.37402C8.99023 3.7798 8.84934 4.17121 8.59473 4.48242L8.47852 4.61133L5.22754 7.8623C4.89954 8.18968 4.45486 8.37398 3.99121 8.37402C3.52761 8.37402 3.08292 8.18965 2.75488 7.8623L1.49121 6.59863L1.47949 6.58594C1.17042 6.25422 1.00181 5.8156 1.00977 5.3623L1.02148 5.19336C1.06638 4.80245 1.2419 4.43583 1.52246 4.15527C1.84299 3.83487 2.27541 3.65165 2.72852 3.64355L2.89844 3.64844C3.23454 3.67514 3.55557 3.79897 3.82324 4.00391L3.95312 4.1123L3.99121 4.15039L6.00391 2.1377V2.13672C6.33205 1.80893 6.77743 1.625 7.24121 1.625L7.41406 1.63379Z",stroke:"#DDF4FF",strokeWidth:"2"})]}),t[0]=e):e=t[0],e};try{g.displayName||(g.displayName="SubAgentSelector")}catch{}try{v.displayName||(v.displayName="IconWithCheck")}catch{}try{w.displayName||(w.displayName="CheckIcon")}catch{}},97189:(e,t,n)=>{n.d(t,{Fn:()=>l,eS:()=>o});var a=n(74848),r=n(21728),i=n(96540);let s=(0,i.createContext)(void 0);function o(){let e=(0,i.useContext)(s);if(!e)throw Error("useConsecutiveCAPI401sContext must be used within a ConsecutiveCAPI401sProvider");return e}function l(e){let t,n,o,l,u=(0,r.c)(7),{children:d}=e,[h,f]=(0,i.useState)(0);u[0]===Symbol.for("react.memo_cache_sentinel")?(t=()=>f(c),n=()=>f(0),u[0]=t,u[1]=n):(t=u[0],n=u[1]),u[2]!==h?(o={numberOf401s:h,increment401s:t,reset401s:n},u[2]=h,u[3]=o):o=u[3];let m=o;return u[4]!==d||u[5]!==m?(l=(0,a.jsx)(s.Provider,{value:m,children:d}),u[4]=d,u[5]=m,u[6]=l):l=u[6],l}function c(e){return e+1}try{s.displayName||(s.displayName="ConsecutiveCAPI401sContext")}catch{}try{l.displayName||(l.displayName="ConsecutiveCAPI401sProvider")}catch{}},42455:(e,t,n)=>{n.d(t,{b:()=>l});var a=n(97286),r=n(51120),i=n(97189),s=n(34295),o=n(96540);function l(...e){let t=(0,a.I)(...e),{numberOf401s:n,increment401s:c,reset401s:u}=(0,i.eS)(),{isError:d,isLoading:h,error:f}=t;return(0,o.useEffect)(()=>{d&&f instanceof r.j?c():d||h?n>5&&(new s.l().removeLocalStorageAuthToken(),u()):u()},[d,h,f,c,u,n]),t}},95304:(e,t,n)=>{n.d(t,{Oe:()=>h,P0:()=>d});var a=n(21728),r=n(96540),i=n(97286),s=n(96379),o=n(25407),l=n(69599),c=n(47723);async function u(e){try{let[t,n]=e.split("/");if(!t||!n)return null;let a=(0,o.SHX)({owner:t,repo:n}),r=await (0,s.lS)(a);if(r.ok){let e=await r.json();return e?.payload.repo.defaultBranch||null}return null}catch{return null}}async function d(e="",t){let n=new URL(c.XT,window.location.origin);e.trim()&&n.searchParams.set("q",e.trim()),t&&(0,l.G7)("issues_copilot_repo_search_in_org")&&n.searchParams.set("defaultOwner",t);let a=await (0,s.lS)(n.href);return a.ok?(await a.json()).repositories.map(e=>({nameWithOwner:e.nameWithOwner,enabled:e.enabled,name:e.nameWithOwner,nameOnly:e.name,owner:e.owner,defaultBranch:e.defaultBranch,private:"public"!==e.visibility})):[]}function h(e){let t,n,s,o,l,c,d,h,f,m,p=(0,a.c)(28);p[0]!==e.owner.login?(t={login:e.owner.login},p[0]=e.owner.login,p[1]=t):t=p[1],p[2]!==e.defaultBranch||p[3]!==e.isPrivate||p[4]!==e.name||p[5]!==t?(n={name:e.name,defaultBranch:e.defaultBranch,owner:t,isPrivate:e.isPrivate},p[2]=e.defaultBranch,p[3]=e.isPrivate,p[4]=e.name,p[5]=t,p[6]=n):n=p[6];let g=n,[v,w]=(0,r.useState)(null),[_,b]=(0,r.useState)(""),[S,y]=(0,r.useState)(!1),{data:C,isLoading:E}=function(e,t){let n,r,s,o=(0,a.c)(7),l=void 0===t||t;return o[0]!==e?(n=["repository-default-branch",e],r=()=>u(e??""),o[0]=e,o[1]=n,o[2]=r):(n=o[1],r=o[2]),o[3]!==l||o[4]!==n||o[5]!==r?(s={queryKey:n,queryFn:r,enabled:l,staleTime:3e5,gcTime:6e5,retry:1},o[3]=l,o[4]=n,o[5]=r,o[6]=s):s=o[6],(0,i.I)(s)}(`${g.owner.login}/${g.name}`,!g.defaultBranch);p[7]!==v||p[8]!==g.defaultBranch||p[9]!==g.isPrivate||p[10]!==g.name||p[11]!==g.owner.login?(s=()=>{if(v)return;let e=`${g.owner.login}/${g.name}`;w({owner:g.owner.login,name:e,nameOnly:g.name,nameWithOwner:e,enabled:!0,defaultBranch:g.defaultBranch||"",private:g.isPrivate||!1}),g.defaultBranch&&b(g.defaultBranch)},p[7]=v,p[8]=g.defaultBranch,p[9]=g.isPrivate,p[10]=g.name,p[11]=g.owner.login,p[12]=s):s=p[12],p[13]!==v||p[14]!==g?(o=[g,v],p[13]=v,p[14]=g,p[15]=o):o=p[15],(0,r.useEffect)(s,o),p[16]!==E?(l=()=>{y(E)},c=[E],p[16]=E,p[17]=l,p[18]=c):(l=p[17],c=p[18]),(0,r.useEffect)(l,c),p[19]!==C||p[20]!==g.defaultBranch?(d=()=>{C&&!g.defaultBranch&&(b(C),w(e=>e?{...e,defaultBranch:C}:e))},h=[C,g.defaultBranch],p[19]=C,p[20]=g.defaultBranch,p[21]=d,p[22]=h):(d=p[21],h=p[22]),(0,r.useEffect)(d,h),p[23]===Symbol.for("react.memo_cache_sentinel")?(f=e=>{e&&(y(!1),w(e),b(e.defaultBranch))},p[23]=f):f=p[23];let k=f;return p[24]!==S||p[25]!==_||p[26]!==v?(m={selectedRepo:v,selectedBranch:_,isLoadingBranch:S,setSelectedBranch:b,handleRepoSelect:k},p[24]=S,p[25]=_,p[26]=v,p[27]=m):m=p[27],m}},9711:(e,t,n)=>{n.d(t,{$:()=>i});var a=n(21728),r=n(95304);function i(e){let t,n=(0,a.c)(2);return n[0]!==e?(t=t=>(0,r.P0)(t,e),n[0]=e,n[1]=t):t=n[1],t}},46642:(e,t,n)=>{n.d(t,{P:()=>u});var a=n(74848),r=n(96540),i=n(38621),s=n(69497),o=n(21373),l=n(70170),c=n(86391);function u({currentSelection:e,repositoryLoader:t,onSelect:n,selectionVariant:u,selectAllOption:d,additionalButtonProps:h,buttonText:f="",width:m,truncateMaxWidth:p,height:g,fullscreenOnNarrow:v,defaultOwner:w}){let[_,b]=(0,r.useState)(""),[S,y]=(0,r.useState)([]),[C,E]=(0,r.useState)(!0),k=(0,r.useCallback)((0,l.s)(async e=>{try{let n=await t(e,w);y(n)}catch{}E(!1)},200),[t,w]);(0,r.useEffect)(()=>{E(!0),k(_)},[_,k,E]);let A=(0,r.useCallback)(e=>{"single"===u?!e[0]||e[0]._all?n(void 0):n(e[0]):n(e)},[u,n]),x=(0,r.useMemo)(()=>"multiple"===u?e||[]:e?[e]:[],[u,e]),I=(0,r.useCallback)(e=>{let t,n="medium"===m?35:"large"===m?60:24;return(e.name.length>n&&(t=`${e.name.substring(0,n)}...`),e._all)?{id:e.name,text:"All repositories",source:e,groupId:"all"}:{id:e.name,text:t||e.name,source:e,groupId:"select",disabled:!1===e.enabled,leadingVisual:()=>e.private?(0,a.jsx)(i.RepoLockedIcon,{size:16}):(0,a.jsx)(i.RepoIcon,{size:16})}},[m]),P=(0,r.useCallback)(e=>e.name,[]),L=(0,r.useMemo)(()=>{let e=[];return e.push(...x.filter(e=>S.every(t=>t.name!==e.name))||[]),e.push(...S),d&&e.push({name:"$all$",_all:!0}),e},[S,d,x]),M=f,R=i.RepoIcon;return M||("multiple"===u?M=x.length>0?`${x.length} repositor${x.length>1?"ies":"y"}`:"Select repositories":x.length>0&&x[0]?(M=x[0].name,R=x[0].private?i.RepoLockedIcon:i.RepoIcon):M=d?"All repositories":"Select a repository"),(0,a.jsx)(c.O,{renderAnchor:({"aria-labelledby":e,...t})=>(0,a.jsx)(o.Q,{leadingVisual:R,trailingAction:i.TriangleDownIcon,"aria-labelledby":e,...t,...h,children:(0,a.jsx)(s.A,{title:M,maxWidth:p??195,children:M})}),placeholderText:"Search",items:L,loading:C,groups:d?[{groupId:"all"},{groupId:"select"}]:[],selectionVariant:u,initialSelectedItems:x,onSelectionChange:A,filterItems:b,getItemKey:P,convertToItemProps:I,title:"Select a repository",width:m,height:g,responsiveOnNarrow:v})}try{u.displayName||(u.displayName="ReposSelector")}catch{}}}]);
//# sourceMappingURL=packages_alive_alive_ts-packages_alive_connect-alive-subscription_ts-packages_history_history-ab6ca5-59a81f1dc9e2.js.map