"use strict";(globalThis.webpackChunk_github_ui_github_ui=globalThis.webpackChunk_github_ui_github_ui||[]).push([["packages_copilot-chat_components_tracing_TraceDisplay_tsx"],{79575:(e,t,a)=>{function l(e,t){if(!e)return new Map;let a=new Map;for(let[l,i]of e)t&&i.threadId!==t||a.set(l,i);return a}function i(e,t,a){if(!e||!t&&!a)return!1;let i=l(e,t).size>0;if(a){let t=!!e&&e.size>0;return i||t}return i}a.d(t,{$1:()=>i,ik:()=>l})},8939:(e,t,a)=>{a.d(t,{k:()=>H});var l=a(74848),i=a(38621),r=a(36284),n=a(96296),s=a(1992),o=a(5524),c=a(26108),d=a(59121),u=a(15042),m=a(96540),h=a(79575);let p={traceDisplay:"TraceDisplay-module__traceDisplay--VYvzq",controls:"TraceDisplay-module__controls--lyXHb",rightControls:"TraceDisplay-module__rightControls--gnfUn"};var x=a(99511),T=a(10006),b=a(3803),y=a(21728),f=a(21373),j=a(32269);let v={traceDetails:"TraceDetails-module__traceDetails--YxV3d",header:"TraceDetails-module__header--VCAIR",traceName:"TraceDetails-module__traceName--xfoOS",duration:"TraceDetails-module__duration--ZMf8H",section:"TraceDetails-module__section--fT33u",table:"TraceDetails-module__table--fbVjY",tableCell:"TraceDetails-module__tableCell--Ex8vT",tableRow:"TraceDetails-module__tableRow--Iu2v0",sectionTitle:"TraceDetails-module__sectionTitle--hPehc",expandable:"TraceDetails-module__expandable--PVL4N",expandableContent:"TraceDetails-module__expandableContent--KeW4Y",wrappedPre:"TraceDetails-module__wrappedPre--jbFNy"},N=/^#{1,6}\s|^\*{1,2}[\s\S]*?\*{1,2}|^\[.*?\]\(.*?\)|```[\s\S]*?```|^\s*[-*+]\s|^\d+\.\s/m;function D(e){return"string"==typeof e?N.test(e)?(0,l.jsx)(j.o,{children:e}):(0,l.jsx)("pre",{className:v.wrappedPre,children:e}):(0,l.jsx)("pre",{className:v.wrappedPre,children:JSON.stringify(e,null,2)})}let _={FORMATTED:0,JSON:1};function g(e){let t,a,i,r,n,s,o,c,u,h,p,x,T,b,f,j,N,g,S=(0,y.c)(41),{node:A}=e,[I,w]=(0,m.useState)(_.FORMATTED);S[0]===Symbol.for("react.memo_cache_sentinel")?(t=e=>{(e===_.FORMATTED||e===_.JSON)&&w(e)},S[0]=t):t=S[0];let k=t;S[1]!==A.name?(a=(0,l.jsx)("div",{className:v.traceName,children:A.name}),S[1]=A.name,S[2]=a):a=S[2],S[3]!==A.duration?(i=(0,l.jsxs)("div",{className:v.duration,children:["duration: ",A.duration,"ms"]}),S[3]=A.duration,S[4]=i):i=S[4],S[5]!==a||S[6]!==i?(r=(0,l.jsxs)("div",{className:v.header,children:[a,i]}),S[5]=a,S[6]=i,S[7]=r):r=S[7];let M=I===_.FORMATTED;S[8]!==M?(n=(0,l.jsx)(d.I.Button,{value:_.FORMATTED,selected:M,children:"Formatted"}),S[8]=M,S[9]=n):n=S[9];let V=I===_.JSON;return S[10]!==V?(s=(0,l.jsx)(d.I.Button,{value:_.JSON,selected:V,children:"JSON"}),S[10]=V,S[11]=s):s=S[11],S[12]!==n||S[13]!==s?(o=(0,l.jsxs)(d.I,{"aria-label":"Trace formatted/JSON view",onChange:k,size:"small",children:[n,s]}),S[12]=n,S[13]=s,S[14]=o):o=S[14],S[15]===Symbol.for("react.memo_cache_sentinel")?(c=(0,l.jsx)("td",{className:`${v.tableCell} ${v.sectionTitle}`,children:"Input"}),S[15]=c):c=S[15],S[16]!==A.input||S[17]!==I?(u=I===_.FORMATTED?(0,l.jsx)(C,{value:A.input}):D(A.input),S[16]=A.input,S[17]=I,S[18]=u):u=S[18],S[19]!==u?(h=(0,l.jsxs)("tr",{className:v.tableRow,children:[c,(0,l.jsx)("td",{className:v.tableCell,children:u})]},"Input"),S[19]=u,S[20]=h):h=S[20],S[21]===Symbol.for("react.memo_cache_sentinel")?(p=(0,l.jsx)("td",{className:`${v.tableCell} ${v.sectionTitle}`,children:"Output"}),S[21]=p):p=S[21],S[22]!==A.output||S[23]!==I?(x=I===_.FORMATTED?(0,l.jsx)(C,{value:A.output}):D(A.output),S[22]=A.output,S[23]=I,S[24]=x):x=S[24],S[25]!==x?(T=(0,l.jsxs)("tr",{className:v.tableRow,children:[p,(0,l.jsx)("td",{className:v.tableCell,children:x})]},"Output"),S[25]=x,S[26]=T):T=S[26],S[27]===Symbol.for("react.memo_cache_sentinel")?(b=(0,l.jsx)("td",{className:`${v.tableCell} ${v.sectionTitle}`,children:"Metadata"}),S[27]=b):b=S[27],S[28]!==A.metadata||S[29]!==I?(f=I===_.FORMATTED?(0,l.jsx)(C,{value:A.metadata}):D(A.metadata),S[28]=A.metadata,S[29]=I,S[30]=f):f=S[30],S[31]!==f?(j=(0,l.jsxs)("tr",{className:v.tableRow,children:[b,(0,l.jsx)("td",{className:v.tableCell,children:f})]},"Metadata"),S[31]=f,S[32]=j):j=S[32],S[33]!==h||S[34]!==T||S[35]!==j?(N=(0,l.jsx)("div",{className:v.section,children:(0,l.jsx)("table",{className:v.table,children:(0,l.jsxs)("tbody",{children:[h,T,j]})})}),S[33]=h,S[34]=T,S[35]=j,S[36]=N):N=S[36],S[37]!==N||S[38]!==r||S[39]!==o?(g=(0,l.jsxs)("div",{className:v.traceDetails,children:[r,o,N]}),S[37]=N,S[38]=r,S[39]=o,S[40]=g):g=S[40],g}function C(e){let t=(0,y.c)(12),{value:a,depth:i}=e,r=void 0===i?1:i;if(r>4){let e,i;return t[0]!==a?(e=JSON.stringify(a,null,2),t[0]=a,t[1]=e):e=t[1],t[2]!==e?(i=(0,l.jsx)(S,{value:e}),t[2]=e,t[3]=i):i=t[3],i}if("string"==typeof a||"number"==typeof a||"boolean"==typeof a){let e,i=String(a);return t[4]!==i?(e=(0,l.jsx)(S,{value:i}),t[4]=i,t[5]=e):e=t[5],e}if(Array.isArray(a)){let e;return t[6]!==r||t[7]!==a?(e=(0,l.jsx)(A,{value:a,depth:r}),t[6]=r,t[7]=a,t[8]=e):e=t[8],e}if("object"!=typeof a||null===a)return"Unknown";{let e;return t[9]!==r||t[10]!==a?(e=(0,l.jsx)(I,{value:a,depth:r}),t[9]=r,t[10]=a,t[11]=e):e=t[11],e}}function S(e){let t,a,i,r=(0,y.c)(10),{value:n}=e,s=n.length>100,o=n.length>100?`${n.slice(0,100)}...`:n,[c,d]=(0,m.useState)(!1);return r[0]!==c||r[1]!==s?(t=s&&(0,l.jsx)(w,{expanded:c,onClick:()=>d(!c)}),r[0]=c,r[1]=s,r[2]=t):t=r[2],r[3]!==c||r[4]!==o||r[5]!==n?(a=c?D(n):o,r[3]=c,r[4]=o,r[5]=n,r[6]=a):a=r[6],r[7]!==t||r[8]!==a?(i=(0,l.jsxs)(l.Fragment,{children:[t,a]}),r[7]=t,r[8]=a,r[9]=i):i=r[9],i}function A(e){let t,a,i=(0,y.c)(7),{value:r,depth:n}=e;if(i[0]!==n||i[1]!==r){let e;i[3]!==n?(e=(e,t)=>(0,l.jsx)("li",{children:(0,l.jsx)(C,{value:e,depth:n+1})},t),i[3]=n,i[4]=e):e=i[4],t=r.map(e),i[0]=n,i[1]=r,i[2]=t}else t=i[2];return i[5]!==t?(a=(0,l.jsx)("ul",{children:t}),i[5]=t,i[6]=a):a=i[6],a}function I(e){let t,a,i,r,n,s=(0,y.c)(15),{value:o,depth:c}=e;s[0]!==o?(t=()=>Object.keys(o).length<=2,s[0]=o,s[1]=t):t=s[1];let[d,u]=(0,m.useState)(t);s[2]!==d?(a=()=>u(!d),s[2]=d,s[3]=a):a=s[3];let h=`{${Object.keys(o).length}}`;return s[4]!==d||s[5]!==a||s[6]!==h?(i=(0,l.jsx)(w,{expanded:d,onClick:a,text:h}),s[4]=d,s[5]=a,s[6]=h,s[7]=i):i=s[7],s[8]!==c||s[9]!==d||s[10]!==o?(r=d&&(0,l.jsx)("div",{className:v.expandableContent,children:(0,l.jsx)("table",{className:v.table,children:(0,l.jsx)("tbody",{children:Object.entries(o).map(e=>{let[t,a]=e;return(0,l.jsxs)("tr",{className:v.tableRow,children:[(0,l.jsx)("td",{className:v.tableCell,children:t}),(0,l.jsx)("td",{className:v.tableCell,children:(0,l.jsx)(C,{value:a,depth:c+1})})]},t)})})})}),s[8]=c,s[9]=d,s[10]=o,s[11]=r):r=s[11],s[12]!==i||s[13]!==r?(n=(0,l.jsxs)("div",{className:v.expandable,children:[i,r]}),s[12]=i,s[13]=r,s[14]=n):n=s[14],n}function w(e){let t,a=(0,y.c)(4),{expanded:r,onClick:n,text:s}=e;return a[0]!==r||a[1]!==n||a[2]!==s?(t=s?(0,l.jsx)(f.Q,{leadingVisual:r?i.ChevronDownIcon:i.ChevronRightIcon,onClick:n,size:"small",variant:"invisible",children:s}):(0,l.jsx)(c.K,{icon:r?i.ChevronDownIcon:i.ChevronRightIcon,"aria-label":r?"Collapse":"Expand",onClick:n,size:"small",variant:"invisible"}),a[0]=r,a[1]=n,a[2]=s,a[3]=t):t=a[3],t}try{g.displayName||(g.displayName="TraceDetails")}catch{}try{C.displayName||(C.displayName="Value")}catch{}try{S.displayName||(S.displayName="StringValue")}catch{}try{A.displayName||(A.displayName="ArrayValue")}catch{}try{I.displayName||(I.displayName="ObjectValue")}catch{}try{w.displayName||(w.displayName="ExpandButton")}catch{}let k={traceList:"TraceList-module__traceList--IrKZS",traceTable:"TraceList-module__traceTable--K4Ffk"};function M({treeLists:e,verboseMode:t}){let[a,i]=(0,m.useState)(null),[n,s]=(0,m.useState)(""),o=a=>{let l=a.target.closest("tr");if(!l)return;let r=l.querySelector("td:first-child");if(!r)return;let s=r.textContent?.trim();if(!s)return;let o=(n?c:t?e.fullList:e.shortList).find(e=>e.id===s);o&&i(o)},c=(0,m.useMemo)(()=>{let a=n.toLowerCase();return(t?e.fullList:e.shortList).filter(e=>{var t,l;return t=e,l=a,!!(t.id.toLowerCase().includes(l)||t.name.toLowerCase().includes(l)||t.attributes?.some(e=>String(e.value).toLowerCase().includes(l)||e.key.toLowerCase().includes(l)))})},[e,n,t]);(0,m.useEffect)(()=>{for(let e of document.querySelectorAll('tr[data-active="true"]'))e.removeAttribute("data-active");if(a)for(let e of document.querySelectorAll(".traceTable"))for(let t of e.querySelectorAll("tbody tr")){let e=t.querySelector("td:first-child");if(e?.textContent?.trim()===a.id){t.setAttribute("data-active","true");break}}},[a]);let d=[{header:"Span ID",field:"id",sortBy:"alphanumeric"},{header:"Name",field:"name",sortBy:"alphanumeric"},{header:"Start Time",field:"startTime",sortBy:"alphanumeric"},{header:"End Time",field:"endTime",sortBy:"alphanumeric"},{header:"Duration",field:"duration",sortBy:"alphanumeric"},{header:"Has LLM Data?",field:"hasData",sortBy:"basic"}];return(0,l.jsxs)("div",{className:k.traceList,children:[(0,l.jsxs)(r.A,{children:[(0,l.jsx)(r.A.Label,{children:"Search: "}),(0,l.jsx)(x.A,{type:"text",value:n,onChange:e=>s(e.target.value)})]}),e.fullList.length>0&&(0,l.jsxs)(T.X.Container,{className:`${k.traceTable} traceTable`,onClick:o,style:{display:t?"block":"none"},children:[(0,l.jsx)(T.X.Title,{id:"trace-table-verbose",children:"Verbose Trace Table"}),(0,l.jsx)(b.b,{data:n?c:e.fullList,columns:d,initialSortColumn:"startTime",initialSortDirection:"DESC"})]}),e.shortList.length>0?(0,l.jsxs)(T.X.Container,{className:`${k.traceTable} traceTable`,onClick:o,style:{display:t?"none":"block"},children:[(0,l.jsx)(T.X.Title,{id:"trace-table-filtered",children:"Filtered Trace Table"}),(0,l.jsx)(b.b,{data:n?c:e.shortList,columns:d,initialSortColumn:"startTime",initialSortDirection:"DESC"})]}):(0,l.jsx)("div",{style:{padding:"16px",textAlign:"center",color:"#666"},children:"No spans to display. Try enabling verbose mode to see all spans."}),a&&(0,l.jsx)(g,{node:a})]})}try{M.displayName||(M.displayName="TraceList")}catch{}var V=a(60460),L=a(37294);let O={traceTable:"TraceTable-module__traceTable--O1Wib"};function z(e,t,a){let l=e.children.map(e=>z(e,t,a));return{...e,startTime:e.startTime-t,endTime:e.endTime-t,children:l}}function E(e){return{...e,startTime:e.startTime.toString(),endTime:e.endTime.toString(),duration:e.duration.toString(),children:e.children.map(E),hasData:B(e)?"Yes":"No"}}function B(e){return!!(e.sessionId||e.userId||e.input||e.output||e.metadata)}function $(e,t){if(t)return e;let a=e.children.map(e=>$(e,t)).filter(e=>null!==e);return B(e)||a.length>0?{...e,children:a}:null}function F(e){let t=[];return!function e(a){for(let l of(t.push({...a,id:a.spanId}),a.children))e(l)}(e),t}function R(e){let t,a,i=(0,y.c)(9),{root:r,verboseMode:n}=e;e:{let e;if(i[0]!==r.maxTime||i[1]!==r.minTime||i[2]!==r.node||i[3]!==n){let a=$(r.node,n);if(!a){let e;i[6]===Symbol.for("react.memo_cache_sentinel")?(e=[],i[6]=e):e=i[6],t=e;break e}e=function(e){let t=new Map;return!function e(a){let l=t.get(a.name);l||(l={id:a.name,count:0,avgDuration:0,totalDuration:0}),l.count+=1,l.totalDuration+=a.duration,l.avgDuration=l.totalDuration/l.count,t.set(a.name,l),a.children.forEach(e)}(e),Array.from(t.values()).sort((e,t)=>t.totalDuration-e.totalDuration)}(z(a,r.minTime,r.maxTime)),i[0]=r.maxTime,i[1]=r.minTime,i[2]=r.node,i[3]=n,i[4]=e,i[5]=t}else e=i[4],t=i[5];t=e}let s=t;return i[7]!==s?(a=(0,l.jsx)("div",{className:O.traceTable,children:s.length>0?(0,l.jsxs)(T.X.Container,{children:[(0,l.jsx)(T.X.Title,{id:"trace-table",children:"Trace Table"}),(0,l.jsx)(b.b,{data:s,columns:[{header:"Name",field:"id",sortBy:"alphanumeric"},{header:"Count",field:"count",sortBy:"basic"},{header:"Average Duration",field:"avgDuration",sortBy:"basic",renderCell:W},{header:"Total Duration",field:"totalDuration",sortBy:"basic",renderCell:J}],initialSortColumn:"totalDuration",initialSortDirection:"DESC"})]}):(0,l.jsx)("div",{style:{padding:"16px",textAlign:"center",color:"#666"},children:"No spans to display. Try enabling verbose mode to see all spans."})}),i[7]=s,i[8]=a):a=i[8],a}function J(e){return e.totalDuration.toFixed(2)}function W(e){return e.avgDuration.toFixed(2)}try{R.displayName||(R.displayName="TraceTable")}catch{}let K={settings:"TraceVisualizer-module__settings--tvIub",traceVisualizerContainer:"TraceVisualizer-module__traceVisualizerContainer--I9pVP",traceVisualizer:"TraceVisualizer-module__traceVisualizer--EyWw6",nodeContainer:"TraceVisualizer-module__nodeContainer--amFJh",nodeContainerWithData:"TraceVisualizer-module__nodeContainerWithData--DC4hi",active:"TraceVisualizer-module__active--abITk",node:"TraceVisualizer-module__node--mCIFJ",label:"TraceVisualizer-module__label--pY7tv"};function X(e){let t,a,i,n=(0,y.c)(7),{settings:s,setSettings:o}=e;return n[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,l.jsx)(r.A.Label,{children:"Minimum Duration:"}),n[0]=t):t=n[0],n[1]!==o||n[2]!==s?(a=e=>o({...s,minimumDuration:Number(e.target.value)}),n[1]=o,n[2]=s,n[3]=a):a=n[3],n[4]!==s.minimumDuration||n[5]!==a?(i=(0,l.jsx)("div",{className:K.settings,children:(0,l.jsxs)(r.A,{children:[t,(0,l.jsx)(x.A,{type:"number",value:s.minimumDuration,onChange:a})]})}),n[4]=s.minimumDuration,n[5]=a,n[6]=i):i=n[6],i}function P({root:e,verboseMode:t}){let[a,i]=(0,m.useState)({minimumDuration:0}),[r,n]=(0,m.useState)(1),[s,o]=(0,m.useState)(null),c=(0,m.useRef)(null);(0,m.useEffect)(()=>{o(null)},[e]);let{node:d,maxDepth:u,maxTime:h}=(0,m.useMemo)(()=>{var l,i;let r=$(e.node,t);if(!r)return{node:null,maxDepth:0,maxTime:0};let n=z(r,e.minTime,e.maxTime);return{node:(l=n,i=a.minimumDuration,l.children=l.children.map(e=>(function e(t,a){let l=t.children.map(t=>e(t,a)).flat();return t.duration<a?l:(t.children=l,[t])})(e,i)).flat(),n=l),maxDepth:e.maxDepth,maxTime:e.maxTime-e.minTime}},[e,t,a.minimumDuration]);return(0,l.jsxs)("div",{className:K.traceVisualizerContainer,ref:c,children:[(0,l.jsx)(X,{settings:a,setSettings:i}),d?(0,l.jsx)("div",{className:K.traceVisualizer,style:{minHeight:`${(u+1)*30}px`,width:`${100*r}%`},onWheel:e=>{if(e.ctrlKey||e.metaKey){e.preventDefault();let t=Math.max(.5,1+-.01*e.deltaY),a=c.current;a&&(a.scrollLeft*=t),n(e=>e*t)}},children:(0,l.jsx)(q,{node:d,maxTime:h,setActiveNode:o,activeNode:s})}):(0,l.jsx)("div",{style:{padding:"16px",textAlign:"center",color:"#666"},children:"No spans to display. Try enabling verbose mode to see all spans."}),s&&(0,l.jsx)(g,{node:s})]})}function Y(e){var t,a;let i,r,n,s,o,c,d=(0,y.c)(26),{node:u,maxTime:m,setActiveNode:h,activeNode:p}=e,x=(t=u.startTime,t/m*100),T=`${x}%`,b=`${(a=u.duration,a/m*100)}%`,f=`${30*u.depth}px`,j=p?.spanId===u.spanId,v=B(u)?K.nodeContainerWithData:K.nodeContainer,N=j?`${v} ${K.active}`:v;if(d[0]!==T||d[1]!==f||d[2]!==b?(i={left:T,width:b,top:f},d[0]=T,d[1]=f,d[2]=b,d[3]=i):i=d[3],d[4]!==u||d[5]!==h?(r=()=>h(u),d[4]=u,d[5]=h,d[6]=r):r=d[6],d[7]!==u.name?(n=(0,l.jsx)("span",{className:K.label,children:u.name}),d[7]=u.name,d[8]=n):n=d[8],d[9]!==i||d[10]!==r||d[11]!==n?(s=(0,l.jsx)("button",{className:K.node,style:i,onClick:r,children:n}),d[9]=i,d[10]=r,d[11]=n,d[12]=s):s=d[12],d[13]!==p||d[14]!==m||d[15]!==u.children||d[16]!==h){let e;d[18]!==p||d[19]!==m||d[20]!==h?(e=e=>(0,l.jsx)(q,{node:e,maxTime:m,setActiveNode:h,activeNode:p},e.spanId),d[18]=p,d[19]=m,d[20]=h,d[21]=e):e=d[21],o=u.children.map(e),d[13]=p,d[14]=m,d[15]=u.children,d[16]=h,d[17]=o}else o=d[17];return d[22]!==N||d[23]!==s||d[24]!==o?(c=(0,l.jsxs)("div",{className:N,children:[s,o]}),d[22]=N,d[23]=s,d[24]=o,d[25]=c):c=d[25],c}let q=(0,m.memo)(Y);try{X.displayName||(X.displayName="TraceSettingsControls")}catch{}try{P.displayName||(P.displayName="TraceVisualizer")}catch{}try{Y.displayName||(Y.displayName="NodeImpl")}catch{}try{q.displayName||(q.displayName="Node")}catch{}function H({threadId:e,sharedThreadChannel:t}){let{traceInfo:a}=(0,L.Kf)(),x=(0,V.y)(),[T,b]=(0,m.useState)(0),[y,f]=(0,m.useState)(!1),[j,v]=(0,m.useState)(!1),N=(0,m.useMemo)(()=>{let l=!!t;return(0,h.ik)(a?.traces,l?void 0:e)},[a?.traces,e,t]),D=N?Array.from(N.keys()).at(-1):null,_=D?N?.get(D):null,[g,C]=(0,m.useState)(D??""),S=async()=>{if(e&&g&&a?.traces)try{let t=a.traces.get(g);t?.actualTraceId&&(await x.deleteTrace(e,t.actualTraceId),C(""),v(!1))}catch{}};(0,m.useEffect)(()=>{if(N&&N.size>0){let e=Array.from(N.keys()).at(-1);!e||g&&N.has(g)||C(e)}},[N,g]),(0,m.useEffect)(()=>{let l=!!t;(0,h.$1)(a?.traces,e,l)||x.showTraceDisplay(!1,e)},[a?.traces,e,x,t]);let A=(0,m.useMemo)(()=>g&&N?N.get(g)?.spanNode||null:_?.spanNode||null,[g,N,_]),I=(0,m.useMemo)(()=>A?function e(t,a=0){let l=t.startTime,i=t.endTime,r=l,n=i,s=a,o=t.children.map(t=>{let l=e(t,a+1);return r=Math.min(r,l.minTime),n=Math.max(n,l.maxTime),s=Math.max(s,l.maxDepth),l.node});return{node:{...t,startTime:l,endTime:i,duration:i-l,depth:a,children:o},minTime:r,maxTime:n,maxDepth:s}}(A):null,[A]),w=(0,m.useMemo)(()=>{if(!I)return null;let e=F(E(z(I.node,I.minTime,I.maxTime))),t=$(I.node,!1),a=[];return t&&(a=F(E(z(t,I.minTime,I.maxTime)))),{fullList:e,shortList:a}},[I]);return N&&0!==N.size&&A&&I&&w?(0,l.jsxs)("div",{className:p.traceDisplay,children:[(0,l.jsxs)("div",{className:p.controls,children:[(0,l.jsxs)(r.A,{children:[(0,l.jsx)(r.A.Label,{children:"Select trace"}),(0,l.jsx)(n.A,{value:g,onChange:e=>C(e.target.value),children:Array.from(N.entries()).sort(([,e],[,t])=>e.timestamp.localeCompare(t.timestamp)).map(([e,t])=>(0,l.jsx)(n.A.Option,{value:e,children:t.timestamp},e))})]}),(0,l.jsxs)("div",{className:p.rightControls,children:[(0,l.jsxs)(s.W,{children:[(0,l.jsx)(s.W.Button,{icon:i.KebabHorizontalIcon,"aria-label":"More options"}),(0,l.jsx)(s.W.Overlay,{children:(0,l.jsxs)(o.l,{children:[(0,l.jsx)(o.l.Item,{onSelect:()=>void navigator.clipboard.writeText(JSON.stringify(A)),children:"Copy Trace JSON"}),(0,l.jsx)(o.l.Item,{variant:"danger",onSelect:()=>{v(!0)},children:"Delete Trace"})]})})]}),(0,l.jsx)(c.K,{icon:i.XIcon,"aria-label":"Close trace display",onClick:()=>x.showTraceDisplay(!1,e)})]})]}),(0,l.jsx)(o.l.Divider,{}),(0,l.jsxs)("div",{className:p.controls,children:[(0,l.jsx)("div",{children:(0,l.jsxs)(d.I,{"aria-label":"Selected tab",onChange:b,children:[(0,l.jsx)(d.I.Button,{selected:0===T,children:"Graph"}),(0,l.jsx)(d.I.Button,{selected:1===T,children:"Table"}),(0,l.jsx)(d.I.Button,{selected:2===T,children:"List"})]})}),(0,l.jsx)("div",{children:(0,l.jsxs)(d.I,{"aria-label":"Verbose mode toggle",onChange:e=>f(1===e),children:[(0,l.jsx)(d.I.Button,{selected:!y,children:"Filtered"}),(0,l.jsx)(d.I.Button,{selected:y,children:"Verbose"})]})})]}),0===T&&(0,l.jsx)(P,{root:I,verboseMode:y}),1===T&&(0,l.jsx)(R,{root:I,verboseMode:y}),2===T&&(0,l.jsx)(M,{treeLists:w,verboseMode:y}),j&&(0,l.jsx)(u.l,{footerButtons:[{buttonType:"default",content:"Cancel",onClick:()=>v(!1)},{buttonType:"danger",content:"Delete Trace",onClick:()=>void S()}],onClose:()=>v(!1),title:"Delete Trace",children:"Are you sure you want to delete this trace? This action cannot be undone and will permanently remove the trace data from secure storage."})]}):null}try{H.displayName||(H.displayName="TraceDisplay")}catch{}}}]);
//# sourceMappingURL=packages_copilot-chat_components_tracing_TraceDisplay_tsx-bbe5114f4845.js.map